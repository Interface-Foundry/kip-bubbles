(function(){"use strict";var n,t,e,o,r,u,i,l,c,f,s,a,h,d,m,p,w,v,g=[].slice;angular.module("angular-inview",[]).directive("inView",["$parse",function(n){return{restrict:"A",require:"?^inViewContainer",link:function(t,e,r,l){var c,f,s,h,d,m;if(r.inView)return c=n(r.inView),f={element:e,wasInView:!1,offset:0,customDebouncedCheck:null,callback:function(n,o,r){return null==n&&(n={}),t.$evalAsync(function(u){return function(){return n.inViewTarget=e[0],c(t,{$event:n,$inview:o,$inviewpart:r})}}(this))}},null!=r.inViewOptions&&(s=t.$eval(r.inViewOptions))&&(f.offset=s.offset||[s.offsetTop||0,s.offsetBottom||0],s.debounce&&(f.customDebouncedCheck=i(function(n){return u([f],e[0],n)},s.debounce))),h=null!=(d=null!=(m=f.customDebouncedCheck)?m:null!=l?l.checkInView:void 0)?d:w,null!=l?l.addItem(f):o(f),setTimeout(h),t.$on("$destroy",function(){return null!=l&&l.removeItem(f),a(f)})}}}]).directive("inViewContainer",function(){return{restrict:"AC",controller:["$element",function(n){return this.items=[],this.addItem=function(n){return this.items.push(n)},this.removeItem=function(n){var t;return this.items=function(){var e,o,r,u;for(r=this.items,u=[],e=0,o=r.length;o>e;e++)t=r[e],t!==n&&u.push(t);return u}.call(this)},this.checkInView=function(t){return function(e){var o,r,i,l;for(l=t.items,r=0,i=l.length;i>r;r++)o=l[r],null!=o.customDebouncedCheck&&o.customDebouncedCheck();return u(function(){var n,t,e,r;for(e=this.items,r=[],n=0,t=e.length;t>n;n++)o=e[n],null==o.customDebouncedCheck&&r.push(o);return r}.call(t),n[0],e)}}(this),this}],link:function(n,t,e,o){return t.bind("scroll",o.checkInView),h(o),n.$on("$destroy",function(){return t.unbind("scroll",o.checkInView),p(o)})}}}),e=[],o=function(n){return e.push(n),r()},a=function(n){var t;return e=function(){var o,r,u;for(u=[],o=0,r=e.length;r>o;o++)t=e[o],t!==n&&u.push(t);return u}(),m()},n=[],h=function(t){return n.push(t),r()},p=function(t){var e;return n=function(){var o,r,u;for(u=[],o=0,r=n.length;r>o;o++)e=n[o],e!==t&&u.push(e);return u}(),m()},t=!1,v=function(t){var o,r,u;for(r=0,u=n.length;u>r;r++)o=n[r],o.checkInView(t);return e.length?w(t):void 0},r=function(){return t?void 0:(t=!0,angular.element(window).bind("checkInView click ready scroll resize",v))},m=function(){return!t||e.length||n.length?void 0:(t=!1,angular.element(window).unbind("checkInView click ready scroll resize",v))},d=function(n,t,e,o,r){var u,i;if(e){if(u=l(t.element[0]).top+window.pageYOffset,i=o&&r&&"neither"||o&&"top"||r&&"bottom"||"both",!t.wasInView||t.wasInView!==i||u!==t.lastOffsetTop)return t.lastOffsetTop=u,t.wasInView=i,t.callback(n,!0,i)}else if(t.wasInView)return t.wasInView=!1,t.callback(n,!1)},u=function(n,t,e){var o,r,u,i,a,h,m,p,w,v,g,b,k,V,I;if(I={top:0,bottom:f()},t&&t!==window){if(o=l(t),o.top>I.bottom||o.bottom<I.top){for(h=0,p=n.length;p>h;h++)a=n[h],d(e,a,!1);return}o.top>I.top&&(I.top=o.top),o.bottom<I.bottom&&(I.bottom=o.bottom)}for(V=[],m=0,w=n.length;w>m;m++)a=n[m],i=a.element[0],o=l(i),u=o.top+(s(a.offset)?c(o,a.offset):parseInt(null!=(v=null!=(g=a.offset)?g[0]:void 0)?v:a.offset)),r=o.bottom+(s(a.offset)?c(o,a.offset):parseInt(null!=(b=null!=(k=a.offset)?k[1]:void 0)?b:a.offset)),u<I.bottom&&r>=I.top?V.push(d(e,a,!0,r>I.bottom,u<I.top)):V.push(d(e,a,!1));return V},s=function(n){return"string"==typeof n&&"%"===n.slice(-1)},c=function(n,t){var e;return e=t.substring(0,t.length-1),(n.bottom-n.top)*(e/100)},f=function(){var n,t,e;return(n=window.innerHeight)?n:(t=document.compatMode,(t||!("undefined"!=typeof $&&null!==$&&null!=(e=$.support)?e.boxModel:void 0))&&(n="CSS1Compat"===t?document.documentElement.clientHeight:document.body.clientHeight),n)},l=function(n){var t,e,o;if(null!=n.getBoundingClientRect)return n.getBoundingClientRect();for(o=0,t=n;t;)o+=t.offsetTop,t=t.offsetParent;for(e=n.parentElement;e;)null!=e.scrollTop&&(o-=e.scrollTop),e=e.parentElement;return{top:o,bottom:o+n.offsetHeight}},i=function(n,t){var e;return e=null,function(){var o;return o=1<=arguments.length?g.call(arguments,0):[],null!=e&&clearTimeout(e),e=setTimeout(function(){return n.apply(null,o)},null!=t?t:100)}},w=function(n){var t,o,r;for(o=0,r=e.length;r>o;o++)t=e[o],null!=t.customDebouncedCheck&&t.customDebouncedCheck();return u(function(){var n,o,r;for(r=[],n=0,o=e.length;o>n;n++)t=e[n],null==t.customDebouncedCheck&&r.push(t);return r}(),null,n)}}).call(this),function(n,t,e){"use strict";var o=t.module("ngHolder",[]);o.directive("holder",[function(){return{link:function(n,t,e){e.holder&&e.$set("data-src",e.holder),Holder.run({images:t[0]})}}}])}(window,window.angular);